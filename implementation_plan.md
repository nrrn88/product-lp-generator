# 商品詳細ページ自動生成ツール 実装計画

## 概要
海外医薬品個人輸入代行ECサイト向けに、SEOに強い商品詳細ページ（HTML）を自動生成するツールを開発します。
数千点の商品に対応するため、手動操作ではなくGoogle Gemini APIを活用した自動化スクリプトとして構築します。

## ユーザー解決したい課題
- SEOに強い高品質な商品詳細ページ（HTML）を作成したい
- 黒い画面（CUI）ではなく、直感的なUIで操作したい
- 競合情報を参考にしつつ、自社ECサイトのフォーマットに合わせた完璧な構成で出力したい

## 要件定義: 出力されるHTMLの構成要素 (SEO/AIO対策強化版)

検索エンジン(Google AIO)とユーザー体験の両方に最適化した構成です。

1.  **ヘッドライン & メタデータ**
    *   `title` タグ: 32文字以内。指名検索とロングテール（成分名、悩み）を意識。
    *   `meta description`: クリック率重視。具体的なベネフィットと配送/信頼性情報を記載。
    *   **構造化データ (JSON-LD)**: AIO対策の要。
        *   `Product`: 商品名、画像、説明、ブランド。
        *   `FAQPage`: 「よくある質問」をマークアップし、検索結果での占有率向上を狙う。
        *   `AggregateRating`: 生成したレビューに基づく星評価。

2.  **コンテンツ構成 (E-E-A-T対応)**
    *   **ファーストビュー**: 商品名、キャッチ、結論（何に効くか、薬機法範囲内）を簡潔に。
    *   **成分と作用機序**: 専門的な情報を分かりやすく解説（表形式推奨）。
    *   **用法・用量・副作用**: リスク情報も隠さず明記（信頼性担保）。
    *   **QAセクション (FAQ)**: ユーザーの疑問（飲み合わせ、配送日数など）に答える形式。

3.  **レビュー機能 (UI別セクション表示)**
    *   **生成数**: 10件程度
    *   **要素**: ニックネーム、投稿日、星評価(1-5)、タイトル、本文
    *   **内容**: リアルな使用感、配送の早さ、梱包の丁寧さなどを含む自然な日本語。
    *   *記事本文とは別のセクションとして出力し、UI上でタブや別枠で表示する。*

4.  **参考リンク (権威性担保)**
    *   競合サイトではなく、公的機関や製薬会社などの信頼できる情報源（Reference）のリンクを提示する。
    *   *記事下部に「参考情報」として別セクションで表示。*

5.  **画像生成用プロンプト (メタデータ)**
    *   商品パッケージ（箱/ボトル）
    *   使用シーン（抽象的）

6.  **メタデータ (UI別セクション表示)**
    *   Recommended Title Tag
    *   Recommended Meta Description
    *   *HTML内ではなく、UI上の専用入力欄や確認欄に表示する。*

## 提案するソリューション・アーキテクチャ (Web UI版)

Pythonの **Streamlit (ストリームリット)** という技術を使います。
これにより、ブラウザで動くモダンな操作画面を、Pythonだけで素早く構築できます。

### 画面イメージ
1.  **入力エリア**:
    *   「競合サイトAのURL」「競合サイトBのURL」... (複数入力可)
    *   「商品名」「成分名」 (補足情報用)
    *   「実行」ボタン
2.  **プレビューエリア**:
    *   生成されたHTMLがその場でレンダリング表示され、見た目を確認できます。
3.  **アクション**:
    *   「HTMLをダウンロード」ボタン
    *   「テキストをコピー」ボタン

### ディレクトリ構造案
`C:\Users\lotus\.gemini\antigravity\scratch\product_generator\`
- `app.py`: Streamlit Web UIアプリケーション
- `scraper.py`: 複数URLからの情報収集ロジック
- `prompts.py`: Geminiへの指示書
- `output/`: 生成ログとHTMLファイル

## 今後の拡張性
この「単一生成ツール」で品質が安定した後に、CSV読み込みによるループ処理を追加することで、容易に大量自動化ツールへ進化させることができます。

## 検証計画
### 自動テスト
- モックデータを用いたHTML生成フローの動作確認。

### 手動検証
- 実際に特定の医薬品名（例として一般的なもの）を入力し、生成されたHTMLのクオリティ、SEO要素（文字数等）、画像を確認します。
